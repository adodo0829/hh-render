# 场景&逻辑思考

## js 执行机制

```js
// 说一下以下代码执行后，输出的结果和顺序
setTimeout(function () {
  console.log("a");
});

new Promise(function (resolve) {
  console.log("b");
  for (let i = 1; i < 10; i++) {
    console.log(i);
    i === 10 && resolve();
  }
}).then(function () {
  console.log("c");
});

console.log("d");
```

## 事件委托

```js
function eventProxy(eventType, parentEle, targetEle, fn) {
  parentEle.addEventListener(eventType, (e) => {
    let currTarget = e.target // 通过 e.target 判断点击元素是不是li的
    while(!curTarget.matches(targetEle)) {
    // 看它是不是使用者监听的目标对象类型
    if (curTarget === element) {
        curTarget = null;
        break;
    }
    // 不相同则把当前对象设置成自己的父对象
    curTarget = curTarget.parentNode;
    })
    // 是，则先看当前对象有没有值，有值则执行回调函数
    curTarget && fn(e, curTarget);
  }
}
var ul = document.querySelector('ul');
listen('click', ul, 'li', function(event, el) {
    console.log(event, el);
});
```

## 实现深拷贝

判断入参类型，如果是数组，递归；如果是对象；同样

## 防抖

一种限制某个函数在一定时间内只能执行一次的技术，无论触发事件的频率有多高。这在处理诸如窗口调整大小、滚动、键盘输入等高频事件时非常有用，因为它可以减少函数执行的次数，从而提高性能

一直触发，等最后一次停止 n 秒后执行;

- 延迟执行
- 延迟期间再被触发，重新计时

## 节流

事件触发期间，n 秒内最多只执行一次；类似技能 cd 逻辑；在单位时间内无论触发多少次，我只执行1次；

节流（throttle）是一种限制函数执行频率的技术，确保函数在指定的时间间隔内最多只执行一次，无论触发事件的频率有多高。
这与防抖（debounce）不同，防抖是确保函数在事件触发后等待一定时间才执行，如果在这个等待时间内再次触发事件，则重新计时。
