# 场景&逻辑思考

## js 执行机制

```js
// 说一下以下代码执行后，输出的结果和顺序
setTimeout(function () {
  console.log("a");
});

new Promise(function (resolve) {
  console.log("b");
  for (let i = 1; i < 10; i++) {
    console.log(i);
    i === 10 && resolve();
  }
}).then(function () {
  console.log("c");
});

console.log("d");
```

## 事件委托

```js
function eventProxy(eventType, parentEle, targetEle, fn) {
  parentEle.addEventListener(eventType, (e) => {
    let currTarget = e.target // 通过 e.target 判断点击元素是不是li的
    while(!curTarget.matches(targetEle)) {
    // 看它是不是使用者监听的目标对象类型
    if (curTarget === element) {
        curTarget = null;
        break;
    }
    // 不相同则把当前对象设置成自己的父对象
    curTarget = curTarget.parentNode;
    })
    // 是，则先看当前对象有没有值，有值则执行回调函数
    curTarget && fn(e, curTarget);
  }
}
var ul = document.querySelector('ul');
listen('click', ul, 'li', function(event, el) {
    console.log(event, el);
});
```

## 实现深拷贝
判断入参类型，如果是数组，递归；如果是对象；同样