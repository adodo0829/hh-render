# 关键技术点

## 1.sso 登录

SSO（Single Sign-On，单点登录）是一种身份认证过程，它允许用户使用一组登录凭据（例如用户名和密码）访问多个应用程序或系统，而无需为每个系统重复登录。

SSO 的目的是减少用户需要记住的凭据数量，并提高安全性，因为用户不需要为每个服务创建和管理多个密码

OAuth 引入了一个授权层，用来分离两种不同的角色：客户端和资源所有者。
资源所有者同意以后，资源服务器可以向客户端颁发令牌。客户端通过令牌，去请求数据。

客户端必须得到用户的授权（authorization grant），才能获得令牌（access token）；

客户端授权模式： 授权码模式（authorization code）

先找 sso 拿到 通过重定向 get 请求 授权码 和 重定向地址， 再携带授权码

流程：
用户访问服务提供者：用户尝试访问需要认证的服务。

重定向到身份提供者：如果用户未认证，服务提供者将用户重定向到身份提供者。

用户登录：用户在身份提供者处输入登录凭据进行登录。

认证令牌发放：身份提供者验证用户凭据后，发放一个认证令牌（例如 SAML 断言）。

返回服务提供者：用户带着认证令牌被重定向回服务提供者。

访问授权：服务提供者使用认证令牌来验证用户的身份，并授权用户访问。

会话管理：一旦用户登录，服务提供者可以创建一个会话，并在用户的浏览器上设置一个 Cookie，以便用户在单点登录域内的其他服务提供者之间导航时无需重新登录。

## 2.作为第三方系统认证授权登录

OAuth 2.0 是一个授权框架，它允许第三方应用获取有限的访问权限，而无需用户提供用户名和密码

用户访问需要登录的应用。

应用重定向用户到第三方平台（如微信、Google 等）。

用户在第三方平台登录并授权应用访问其信息。

第三方平台生成一个授权码，并将用户重定向回应用。

应用使用授权码向第三方平台请求访问令牌。

应用使用访问令牌访问用户信息或执行其他授权操作（cookie）

## 业务系统资源管理

通过 统一平台接口进行 系统注册

## 融合系统

静态配置：只需配置融合系统展示的资源

运行时：统一可以作为微前端的基座应用，在访问子系统页面时，动态拉取子系统代码，在自己的页面框架下进行渲染展示

```js
// 1.将融合系统 和 权限登录系统 合并为一个标准系统，我们称为基座系统，采用微前端的架构方式实现

// 2.对融合系统功能重新设计实现， 定义一套标准的 权限资源管理数据模型
//   一个资源 url 对应一个页面
//   每个业务系统增加唯一前缀来区分

// 子应用改造: 只需更改 mian.js 入口函数 和 打包方式

/** micro 基座初始化流程：
主应用配置路由指向子应用的容器组件；

子应用初始化：通过 fetch + url 获取子应用的 HTML，处理 HTML 文本获取 CSS 和 JS 的资源地址，然后通过 fetch 获取子应用的静态资源；

将处理过的 HTML 放入 WebComponent 容器中，给 CSS 加上 scope 机制，并 append 到 head 标签中，在沙箱中执行 JS 代码；

完成子应用的初始化并渲染子应用；

Micro-app 实现了路由隔离，确保主应用和子应用的路由系统相互独立

iframe 沙箱 和 with + proxy 沙箱， 可以确保代码的行为被限制在一个安全的范围内，防止其超出预期权限进行操作
*/
```

## 个性化

把定制化业务中经常需要修改的业务模块 抽离成配置项放在数据库进行管理，降低定制化开发成本
